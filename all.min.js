!function e(o,n,t){function i(a,u){if(!n[a]){if(!o[a]){var d="function"==typeof require&&require;if(!u&&d)return d(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};o[a][0].call(f.exports,function(e){var n=o[a][1][e];return i(n?n:e)},f,f.exports,e,o,n,t)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<t.length;a++)i(t[a]);return i}({1:[function(e){function o(e,o,n,t){function i(t){var i=document.createElement("canvas");return"number"!=typeof t&&(t=function(){var e=document.createElement("canvas").getContext("2d"),o=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return o/n}()),i.width=e*t,i.height=o*t,i.style.width=e+"px",i.style.height=o+"px",i.getContext("2d").setTransform(t,0,0,t,0,0),i.id=n,i}var r=i();return document.body.insertBefore(r,t),r}function n(e){var o=0,n=0,t=v;do o+=t.offsetLeft-t.scrollLeft,n+=t.offsetTop-t.scrollTop,t=t.offsetParent;while(t);var i=e.pageX-o,r=e.pageY-n;return{x:i,y:r}}function t(e){"string"==typeof e?(_.className&&(_.className=""),_.textContent=e):(m.clearRect(0,0,l,f),_.className="noMessage")}function i(e,o){var n=l*(2*(e%3)+1)/6,t=f*(2*Math.floor(e/3)+1)/6;if(m.beginPath(),"X"===o)m.moveTo(n-b,t-b),m.lineTo(n+b,t+b),m.moveTo(n-b,t+b),m.lineTo(n+b,t-b);else{if("O"!==o)throw"Invalid player argument "+o;m.beginPath(),m.arc(n,t,b,0,2*Math.PI)}m.stroke(),m.closePath()}function r(e){{var o=n(e),t=Math.floor(3*o.x/l),i=Math.floor(3*o.y/f),r=t+3*i;(new Date).getTime()}S.emit("move",r,w)}function a(e,o){o=o||3,function n(){o?(t((e?"Starting ":"Re")+"match in "+o--),g=setTimeout(n,300)):t()}()}var u=e("howler").Howl,d=e("ismobilejs").any,l=400,f=400,s=document.getElementById("scores"),c=document.getElementById("score1"),p=document.getElementById("score2"),_=document.getElementById("messageContainer"),v=o(l,f,"game",s),h=o(l,f,"bg",v),m=v.getContext("2d"),y=h.getContext("2d"),b=40;m.lineWidth=y.lineWidth=8,m.strokeStyle=y.strokeStyle="#4f997d";var w,g,N=new u({urls:["win.mp3","win.ogg","win.wav"]}),T=new u({urls:["lose.mp3","lose.ogg","lose.wav"]}),S=io("http://toyserver.rileyjshaw.com:8010"),A={X:0,O:0};S.on("startGame",function(){a(!0)}),S.on("setPlayer",function(e){w=e}),S.on("moveAck",function(e,o,n){null!==e&&(i(o,n),e&&(t("Team "+n+" won!"),("X"===n?c:p).innerText=++A[n],(n===w?N:T).play(),g=setTimeout(a,1e3)))}),S.on("boot",function(){clearTimeout(g),t("Waiting for opponent")}),y.beginPath();for(var P=3;P>=0;P--)y.moveTo(l/3*P,0),y.lineTo(l/3*P,f),y.moveTo(0,f/3*P),y.lineTo(l,f/3*P);y.stroke(),y.closePath(),v.addEventListener(d?"touchstart":"mousedown",function(e){r(e)},!1)},{howler:2,ismobilejs:3}],2:[function(e,o,n){!function(){var e={},o=null,t=!0,i=!1;try{"undefined"!=typeof AudioContext?o=new AudioContext:"undefined"!=typeof webkitAudioContext?o=new webkitAudioContext:t=!1}catch(r){t=!1}if(!t)if("undefined"!=typeof Audio)try{new Audio}catch(r){i=!0}else i=!0;if(t){var a="undefined"==typeof o.createGain?o.createGainNode():o.createGain();a.gain.value=1,a.connect(o.destination)}var u=function(e){this._volume=1,this._muted=!1,this.usingWebAudio=t,this.ctx=o,this.noAudio=i,this._howls=[],this._codecs=e,this.iOSAutoEnable=!0};u.prototype={volume:function(e){var o=this;if(e=parseFloat(e),e>=0&&1>=e){o._volume=e,t&&(a.gain.value=e);for(var n in o._howls)if(o._howls.hasOwnProperty(n)&&o._howls[n]._webAudio===!1)for(var i=0;i<o._howls[n]._audioNode.length;i++)o._howls[n]._audioNode[i].volume=o._howls[n]._volume*o._volume;return o}return t?a.gain.value:o._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(e){var o=this;o._muted=e,t&&(a.gain.value=e?0:o._volume);for(var n in o._howls)if(o._howls.hasOwnProperty(n)&&o._howls[n]._webAudio===!1)for(var i=0;i<o._howls[n]._audioNode.length;i++)o._howls[n]._audioNode[i].muted=e},codecs:function(e){return this._codecs[e]},_enableiOSAudio:function(){var e=this;if(!o||!e._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){e._iOSEnabled=!1;var n=function(){var t=o.createBuffer(1,1,22050),i=o.createBufferSource();i.buffer=t,i.connect(o.destination),"undefined"==typeof i.start?i.noteOn(0):i.start(0),setTimeout(function(){(i.playbackState===i.PLAYING_STATE||i.playbackState===i.FINISHED_STATE)&&(e._iOSEnabled=!0,e.iOSAutoEnable=!1,window.removeEventListener("touchstart",n,!1))},0)};return window.addEventListener("touchstart",n,!1),e}}};var d=null,l={};i||(d=new Audio,l={mp3:!!d.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!d.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var f=new u(l),s=function(e){var n=this;n._autoplay=e.autoplay||!1,n._buffer=e.buffer||!1,n._duration=e.duration||0,n._format=e.format||null,n._loop=e.loop||!1,n._loaded=!1,n._sprite=e.sprite||{},n._src=e.src||"",n._pos3d=e.pos3d||[0,0,-.5],n._volume=void 0!==e.volume?e.volume:1,n._urls=e.urls||[],n._rate=e.rate||1,n._model=e.model||null,n._onload=[e.onload||function(){}],n._onloaderror=[e.onloaderror||function(){}],n._onend=[e.onend||function(){}],n._onpause=[e.onpause||function(){}],n._onplay=[e.onplay||function(){}],n._onendTimer=[],n._webAudio=t&&!n._buffer,n._audioNode=[],n._webAudio&&n._setupAudioNode(),"undefined"!=typeof o&&o&&f.iOSAutoEnable&&f._enableiOSAudio(),f._howls.push(n),n.load()};if(s.prototype={load:function(){var e=this,o=null;if(i)return void e.on("loaderror");for(var n=0;n<e._urls.length;n++){var t,r;if(e._format)t=e._format;else{if(r=e._urls[n],t=/^data:audio\/([^;,]+);/i.exec(r),t||(t=/\.([^.]+)$/.exec(r.split("?",1)[0])),!t)return void e.on("loaderror");t=t[1].toLowerCase()}if(l[t]){o=e._urls[n];break}}if(!o)return void e.on("loaderror");if(e._src=o,e._webAudio)c(e,o);else{var a=new Audio;a.addEventListener("error",function(){a.error&&4===a.error.code&&(u.noAudio=!0),e.on("loaderror",{type:a.error?a.error.code:0})},!1),e._audioNode.push(a),a.src=o,a._pos=0,a.preload="auto",a.volume=f._muted?0:e._volume*f.volume();var d=function(){e._duration=Math.ceil(10*a.duration)/10,0===Object.getOwnPropertyNames(e._sprite).length&&(e._sprite={_default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e.on("load")),e._autoplay&&e.play(),a.removeEventListener("canplaythrough",d,!1)};a.addEventListener("canplaythrough",d,!1),a.load()}return e},urls:function(e){var o=this;return e?(o.stop(),o._urls="string"==typeof e?[e]:e,o._loaded=!1,o.load(),o):o._urls},play:function(e,n){var t=this;return"function"==typeof e&&(n=e),e&&"function"!=typeof e||(e="_default"),t._loaded?t._sprite[e]?(t._inactiveNode(function(i){i._sprite=e;var r=i._pos>0?i._pos:t._sprite[e][0]/1e3,a=0;t._webAudio?(a=t._sprite[e][1]/1e3-i._pos,i._pos>0&&(r=t._sprite[e][0]/1e3+r)):a=t._sprite[e][1]/1e3-(r-t._sprite[e][0]/1e3);var u,d=!(!t._loop&&!t._sprite[e][2]),l="string"==typeof n?n:Math.round(Date.now()*Math.random())+"";if(function(){var o={id:l,sprite:e,loop:d};u=setTimeout(function(){!t._webAudio&&d&&t.stop(o.id).play(e,o.id),t._webAudio&&!d&&(t._nodeById(o.id).paused=!0,t._nodeById(o.id)._pos=0,t._clearEndTimer(o.id)),t._webAudio||d||t.stop(o.id),t.on("end",l)},1e3*a),t._onendTimer.push({timer:u,id:o.id})}(),t._webAudio){var s=t._sprite[e][0]/1e3,c=t._sprite[e][1]/1e3;i.id=l,i.paused=!1,v(t,[d,s,c],l),t._playStart=o.currentTime,i.gain.value=t._volume,"undefined"==typeof i.bufferSource.start?i.bufferSource.noteGrainOn(0,r,a):i.bufferSource.start(0,r,a)}else{if(4!==i.readyState&&(i.readyState||!navigator.isCocoonJS))return t._clearEndTimer(l),function(){var o=t,r=e,a=n,u=i,d=function(){o.play(r,a),u.removeEventListener("canplaythrough",d,!1)};u.addEventListener("canplaythrough",d,!1)}(),t;i.readyState=4,i.id=l,i.currentTime=r,i.muted=f._muted||i.muted,i.volume=t._volume*f.volume(),setTimeout(function(){i.play()},0)}return t.on("play"),"function"==typeof n&&n(l),t}),t):("function"==typeof n&&n(),t):(t.on("load",function(){t.play(e,n)}),t)},pause:function(e){var o=this;if(!o._loaded)return o.on("play",function(){o.pause(e)}),o;o._clearEndTimer(e);var n=e?o._nodeById(e):o._activeNode();if(n)if(n._pos=o.pos(null,e),o._webAudio){if(!n.bufferSource||n.paused)return o;n.paused=!0,"undefined"==typeof n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else n.pause();return o.on("pause"),o},stop:function(e){var o=this;if(!o._loaded)return o.on("play",function(){o.stop(e)}),o;o._clearEndTimer(e);var n=e?o._nodeById(e):o._activeNode();if(n)if(n._pos=0,o._webAudio){if(!n.bufferSource||n.paused)return o;n.paused=!0,"undefined"==typeof n.bufferSource.stop?n.bufferSource.noteOff(0):n.bufferSource.stop(0)}else isNaN(n.duration)||(n.pause(),n.currentTime=0);return o},mute:function(e){var o=this;if(!o._loaded)return o.on("play",function(){o.mute(e)}),o;var n=e?o._nodeById(e):o._activeNode();return n&&(o._webAudio?n.gain.value=0:n.muted=!0),o},unmute:function(e){var o=this;if(!o._loaded)return o.on("play",function(){o.unmute(e)}),o;var n=e?o._nodeById(e):o._activeNode();return n&&(o._webAudio?n.gain.value=o._volume:n.muted=!1),o},volume:function(e,o){var n=this;if(e=parseFloat(e),e>=0&&1>=e){if(n._volume=e,!n._loaded)return n.on("play",function(){n.volume(e,o)}),n;var t=o?n._nodeById(o):n._activeNode();return t&&(n._webAudio?t.gain.value=e:t.volume=e*f.volume()),n}return n._volume},loop:function(e){var o=this;return"boolean"==typeof e?(o._loop=e,o):o._loop},sprite:function(e){var o=this;return"object"==typeof e?(o._sprite=e,o):o._sprite},pos:function(e,n){var t=this;if(!t._loaded)return t.on("load",function(){t.pos(e)}),"number"==typeof e?t:t._pos||0;e=parseFloat(e);var i=n?t._nodeById(n):t._activeNode();if(i)return e>=0?(t.pause(n),i._pos=e,t.play(i._sprite,n),t):t._webAudio?i._pos+(o.currentTime-t._playStart):i.currentTime;if(e>=0)return t;for(var r=0;r<t._audioNode.length;r++)if(t._audioNode[r].paused&&4===t._audioNode[r].readyState)return t._webAudio?t._audioNode[r]._pos:t._audioNode[r].currentTime},pos3d:function(e,o,n,t){var i=this;if(o="undefined"!=typeof o&&o?o:0,n="undefined"!=typeof n&&n?n:-.5,!i._loaded)return i.on("play",function(){i.pos3d(e,o,n,t)}),i;if(!(e>=0||0>e))return i._pos3d;if(i._webAudio){var r=t?i._nodeById(t):i._activeNode();r&&(i._pos3d=[e,o,n],r.panner.setPosition(e,o,n),r.panner.panningModel=i._model||"HRTF")}return i},fade:function(e,o,n,t,i){var r=this,a=Math.abs(e-o),u=e>o?"down":"up",d=a/.01,l=n/d;if(!r._loaded)return r.on("load",function(){r.fade(e,o,n,t,i)}),r;r.volume(e,i);for(var f=1;d>=f;f++)!function(){var e=r._volume+("up"===u?.01:-.01)*f,n=Math.round(1e3*e)/1e3,a=o;setTimeout(function(){r.volume(n,i),n===a&&t&&t()},l*f)}()},fadeIn:function(e,o,n){return this.volume(0).play().fade(0,e,o,n)},fadeOut:function(e,o,n,t){var i=this;return i.fade(i._volume,e,o,function(){n&&n(),i.pause(t),i.on("end")},t)},_nodeById:function(e){for(var o=this,n=o._audioNode[0],t=0;t<o._audioNode.length;t++)if(o._audioNode[t].id===e){n=o._audioNode[t];break}return n},_activeNode:function(){for(var e=this,o=null,n=0;n<e._audioNode.length;n++)if(!e._audioNode[n].paused){o=e._audioNode[n];break}return e._drainPool(),o},_inactiveNode:function(e){for(var o=this,n=null,t=0;t<o._audioNode.length;t++)if(o._audioNode[t].paused&&4===o._audioNode[t].readyState){e(o._audioNode[t]),n=!0;break}if(o._drainPool(),!n){var i;if(o._webAudio)i=o._setupAudioNode(),e(i);else{o.load(),i=o._audioNode[o._audioNode.length-1];var r=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",a=function(){i.removeEventListener(r,a,!1),e(i)};i.addEventListener(r,a,!1)}}},_drainPool:function(){var e,o=this,n=0;for(e=0;e<o._audioNode.length;e++)o._audioNode[e].paused&&n++;for(e=o._audioNode.length-1;e>=0&&!(5>=n);e--)o._audioNode[e].paused&&(o._webAudio&&o._audioNode[e].disconnect(0),n--,o._audioNode.splice(e,1))},_clearEndTimer:function(e){for(var o=this,n=0,t=0;t<o._onendTimer.length;t++)if(o._onendTimer[t].id===e){n=t;break}var i=o._onendTimer[n];i&&(clearTimeout(i.timer),o._onendTimer.splice(n,1))},_setupAudioNode:function(){var e=this,n=e._audioNode,t=e._audioNode.length;return n[t]="undefined"==typeof o.createGain?o.createGainNode():o.createGain(),n[t].gain.value=e._volume,n[t].paused=!0,n[t]._pos=0,n[t].readyState=4,n[t].connect(a),n[t].panner=o.createPanner(),n[t].panner.panningModel=e._model||"equalpower",n[t].panner.setPosition(e._pos3d[0],e._pos3d[1],e._pos3d[2]),n[t].panner.connect(n[t]),n[t]},on:function(e,o){var n=this,t=n["_on"+e];if("function"==typeof o)t.push(o);else for(var i=0;i<t.length;i++)o?t[i].call(n,o):t[i].call(n);return n},off:function(e,o){var n=this,t=n["_on"+e],i=o?o.toString():null;if(i){for(var r=0;r<t.length;r++)if(i===t[r].toString()){t.splice(r,1);break}}else n["_on"+e]=[];return n},unload:function(){for(var o=this,n=o._audioNode,t=0;t<o._audioNode.length;t++)n[t].paused||(o.stop(n[t].id),o.on("end",n[t].id)),o._webAudio?n[t].disconnect(0):n[t].src="";for(t=0;t<o._onendTimer.length;t++)clearTimeout(o._onendTimer[t].timer);var i=f._howls.indexOf(o);null!==i&&i>=0&&f._howls.splice(i,1),delete e[o._src],o=null}},t)var c=function(o,n){if(n in e)return o._duration=e[n].duration,void _(o);if(/^data:[^;]+;base64,/.test(n)){for(var t=atob(n.split(",")[1]),i=new Uint8Array(t.length),r=0;r<t.length;++r)i[r]=t.charCodeAt(r);p(i.buffer,o,n)}else{var a=new XMLHttpRequest;a.open("GET",n,!0),a.responseType="arraybuffer",a.onload=function(){p(a.response,o,n)},a.onerror=function(){o._webAudio&&(o._buffer=!0,o._webAudio=!1,o._audioNode=[],delete o._gainNode,delete e[n],o.load())};try{a.send()}catch(u){a.onerror()}}},p=function(n,t,i){o.decodeAudioData(n,function(o){o&&(e[i]=o,_(t,o))},function(){t.on("loaderror")})},_=function(e,o){e._duration=o?o.duration:e._duration,0===Object.getOwnPropertyNames(e._sprite).length&&(e._sprite={_default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e.on("load")),e._autoplay&&e.play()},v=function(n,t,i){var r=n._nodeById(i);r.bufferSource=o.createBufferSource(),r.bufferSource.buffer=e[n._src],r.bufferSource.connect(r.panner),r.bufferSource.loop=t[0],t[0]&&(r.bufferSource.loopStart=t[1],r.bufferSource.loopEnd=t[1]+t[2]),r.bufferSource.playbackRate.value=n._rate};"function"==typeof define&&define.amd&&define(function(){return{Howler:f,Howl:s}}),"undefined"!=typeof n&&(n.Howler=f,n.Howl=s),"undefined"!=typeof window&&(window.Howler=f,window.Howl=s)}()},{}],3:[function(e,o){!function(e){var n=/iPhone/i,t=/iPod/i,i=/iPad/i,r=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,a=/Android/i,u=/IEMobile/i,d=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,l=/BlackBerry/i,f=/BB10/i,s=/Opera Mini/i,c=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,p=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),_=function(e,o){return e.test(o)},v=function(e){var o=e||navigator.userAgent;return this.apple={phone:_(n,o),ipod:_(t,o),tablet:_(i,o),device:_(n,o)||_(t,o)||_(i,o)},this.android={phone:_(r,o),tablet:!_(r,o)&&_(a,o),device:_(r,o)||_(a,o)},this.windows={phone:_(u,o),tablet:_(d,o),device:_(u,o)||_(d,o)},this.other={blackberry:_(l,o),blackberry10:_(f,o),opera:_(s,o),firefox:_(c,o),device:_(l,o)||_(f,o)||_(s,o)||_(c,o)},this.seven_inch=_(p,o),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},h=function(){var e=new v;return e.Class=v,e};"undefined"!=typeof o&&o.exports&&"undefined"==typeof window?o.exports=v:"undefined"!=typeof o&&o.exports&&"undefined"!=typeof window?o.exports=h():"function"==typeof define&&define.amd?define(h()):e.isMobile=h()}(this)},{}]},{},[1]);